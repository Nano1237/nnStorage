/*! nnStorage  | Copyright (c) 2015 Tim RÃ¼cker | MIT License */
!function (a, b, c) {
    function d(a) {
        function c(c) {
            function d() {
                var a = {};
                this.setItem = function (b, c) {
                    a[b] = c
                }, this.getItem = function (b) {
                    return a[b]
                }
            }

            function e(a) {
                var b, e;
                try {
                    b = c[a]
                } catch (f) {
                    b = new d
                }
                if (b && "localStorage" === a) {
                    e = "__" + Math.round(1e7 * Math.random());
                    try {
                        localStorage.setItem(e, e), localStorage.removeItem(e)
                    } catch (f) {
                        b = new d
                    }
                }
                return b
            }

            function f(a, d) {
                b.isObject(d) && (d = c.JSON.stringify(d)), i.setItem(a, d)
            }

            function g(a) {
                var d, e = i.getItem(a);
                if (b.isString(e)) {
                    try {
                        d = c.JSON.parse(e)
                    } catch (f) {
                        e.length && (d = e)
                    }
                    return d
                }
            }

            var h = {get: g, set: f}, i = e(a);
            return h
        }

        return c.$inject = ["$window"], c
    }

    var e = b.module("nnStorage", []);
    e.factory("$nnLocalStorage", d("localStorage")), e.factory("$nnSessionStorage", d("sessionStorage"))
}(window, angular);